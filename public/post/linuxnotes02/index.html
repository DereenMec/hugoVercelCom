<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>LinuxNotes.Vim 编辑器和Shell 命令脚本 - Dereen - 深海游泳</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Dereen" />
  <meta name="description" content="Vim 文本编辑器 Vim 之所以能得到广大厂商与用户的认可，原因在于 Vim 编辑器中设置了三种模式—命令模式、末行模式和编辑模式，每种模式分别又支持多种不同的" />

  <meta name="keywords" content="Blog, 博客, C&#43;&#43;, Python, AI" />






<meta name="generator" content="Hugo 0.69.0" />


<link rel="canonical" href="https://happy.dereen.top/post/linuxnotes02/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="LinuxNotes.Vim 编辑器和Shell 命令脚本" />
<meta property="og:description" content="Vim 文本编辑器 Vim 之所以能得到广大厂商与用户的认可，原因在于 Vim 编辑器中设置了三种模式—命令模式、末行模式和编辑模式，每种模式分别又支持多种不同的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://happy.dereen.top/post/linuxnotes02/" />
<meta property="article:published_time" content="2019-09-04T12:46:25+08:00" />
<meta property="article:modified_time" content="2019-09-04T12:46:25+08:00" />
<meta itemprop="name" content="LinuxNotes.Vim 编辑器和Shell 命令脚本">
<meta itemprop="description" content="Vim 文本编辑器 Vim 之所以能得到广大厂商与用户的认可，原因在于 Vim 编辑器中设置了三种模式—命令模式、末行模式和编辑模式，每种模式分别又支持多种不同的">
<meta itemprop="datePublished" content="2019-09-04T12:46:25&#43;08:00" />
<meta itemprop="dateModified" content="2019-09-04T12:46:25&#43;08:00" />
<meta itemprop="wordCount" content="6481">



<meta itemprop="keywords" content="Linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LinuxNotes.Vim 编辑器和Shell 命令脚本"/>
<meta name="twitter:description" content="Vim 文本编辑器 Vim 之所以能得到广大厂商与用户的认可，原因在于 Vim 编辑器中设置了三种模式—命令模式、末行模式和编辑模式，每种模式分别又支持多种不同的"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-164262586-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Dereen</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/about/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Dereen
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/about/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">LinuxNotes.Vim 编辑器和Shell 命令脚本</h1>
      
      <div class="post-meta">
        <time datetime="2019-09-04" class="post-time">
          2019-09-04
        </time>
        <div class="post-category">
            
          </div>
        <span class="more-meta"> 约 6481 字 </span>
          <span class="more-meta"> 预计阅读 13 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#vim-文本编辑器">Vim 文本编辑器</a>
      <ul>
        <li><a href="#vim-中常用的命令命令模式">Vim 中常用的命令（命令模式）</a></li>
        <li><a href="#vim-中常用的命令末行模式">Vim 中常用的命令（末行模式）</a></li>
        <li><a href="#配置主机名称">配置主机名称</a></li>
        <li><a href="#配置网卡信息">配置网卡信息</a></li>
        <li><a href="#配置yum-软件仓库">配置Yum 软件仓库</a></li>
      </ul>
    </li>
    <li><a href="#编写shell-脚本">编写Shell 脚本</a>
      <ul>
        <li><a href="#编写简单脚本">编写简单脚本</a></li>
        <li><a href="#接收用户的参数">接收用户的参数</a></li>
        <li><a href="#判断用户的参数">判断用户的参数</a></li>
      </ul>
    </li>
    <li><a href="#流程控制语句">流程控制语句</a>
      <ul>
        <li><a href="#if-条件测试语句">if 条件测试语句</a></li>
        <li><a href="#for-条件循环语句">for 条件循环语句</a></li>
        <li><a href="#while-条件循环语句">while 条件循环语句</a></li>
        <li><a href="#case-条件测试语句">case 条件测试语句</a></li>
      </ul>
    </li>
    <li><a href="#计划任务服务程序">计划任务服务程序</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h2 id="vim-文本编辑器">Vim 文本编辑器</h2>
<p>Vim 之所以能得到广大厂商与用户的认可，原因在于 Vim 编辑器中设置了三种模式—命令模式、末行模式和编辑模式，每种模式分别又支持多种不同的命令快捷键，这大大提高了工作效率，而且用户在习惯之后也会觉得相当顺手。要想高效率地操作文本，就必须先搞清这三种模式的操作区别以及模式之间的切换方法（见图 4-1）。</p>
<ul>
<li>命令模式：控制光标移动，可对文本进行复制、粘贴、删除和查找等工作。</li>
<li>输入模式：正常的文本录入。</li>
<li>末行模式：保存或退出文档，以及设置编辑环境。</li>
</ul>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4100?authkey=AFBtWHxjrNHYZLw" alt="20966919-a161-4875-be0f-b263d6aa9814.png"></p>
<h3 id="vim-中常用的命令命令模式">Vim 中常用的命令（命令模式）</h3>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>dd</td>
<td>删除（剪切）光标所在整行</td>
</tr>
<tr>
<td>5dd</td>
<td>删除（剪切）从光标处开始的 5 行</td>
</tr>
<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>
<tr>
<td>5yy</td>
<td>复制从光标处开始的 5 行</td>
</tr>
<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>
<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>
<tr>
<td>p</td>
<td>将之前删除（ dd）或复制（ yy）过的数据粘贴到光标后面</td>
</tr>
</tbody>
</table>
<h3 id="vim-中常用的命令末行模式">Vim 中常用的命令（末行模式）</h3>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>退出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出（放弃对文档的修改内容）</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:set nonu</td>
<td>不显示行号</td>
</tr>
<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>
<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>
<tr>
<td>:s/one/two</td>
<td>将当前光标所在行的第一个 one 替换成 two</td>
</tr>
<tr>
<td>:s/one/two/g</td>
<td>将当前光标所在行的所有 one 替换成 two</td>
</tr>
<tr>
<td>:%s/one/two/g</td>
<td>将全文中的所有 one 替换成 two</td>
</tr>
<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>
<tr>
<td>/字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
</tbody>
</table>
<h3 id="配置主机名称">配置主机名称</h3>
<p>为了便于在局域网中查找某台特定的主机，或者对主机进行区分，除了要有IP地址外，还要为主机配置一个主机名，主机之间可以通过这个类似于域名的名称来相互访问。在Linux 系统中，主机名大多保存在/etc/hostname 文件中。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>linuxprobe@linuxprobe Desktop<span class="o">]</span>$ cat /etc/hostname 
linuxprobe.com
<span class="o">[</span>linuxprobe@linuxprobe Desktop<span class="o">]</span>$ hostname
linuxprobe.com
</code></pre></td></tr></table>
</div>
</div><h3 id="配置网卡信息">配置网卡信息</h3>
<blockquote>
<p>在 RHEL 5、 RHEL 6 中，网卡配置文件的前缀为 eth，第 1 块网卡为eth0，第 2 块网卡为 eth1；以此类推。而在 RHEL 7 中，网卡配置文件的前缀则以 ifcfg 开始，加上网卡名称共同组成了网卡配置文件的名字，例如 ifcfg-eno16777736；好在除了文件名变化外也没有其他大的区别。</p>
</blockquote>
<p>现在有一个名称为 ifcfg-eno16777736 的网卡设备，我们将其配置为开机自启动，并且 IP地址、子网、网关等信息由人工指定，其步骤应该如下所示。</p>
<ol>
<li>首先切换到/etc/sysconfig/network-scripts 目录中（存放网卡配置文件）</li>
<li>使用Vim 编辑器修改网卡文件</li>
<li>重启网络服务<code>systemctl restart network</code></li>
</ol>
<h3 id="配置yum-软件仓库">配置Yum 软件仓库</h3>
<p>搭建并配置Yum 软件仓库的大致步骤如下：</p>
<ol>
<li>
<p>进入到<code>/etc/yum.repos.d/</code>目录中（该目录存放着Yum 软件仓库的配置文件）</p>
</li>
<li>
<p>使用Vim 编辑器创建一个仓库的配置文件</p>
<p>[rhel-media]：Yum 仓库唯一标识符，避免与其他仓库冲突</p>
<p>name=linuxprobe：Yum 软件仓库的名称描述，易于识别仓库用处</p>
<p>baseurl=file://media/cdrom：提供的方式包括FTP、HTTP、本地</p>
<p>enable=1：设置此源是否可用；1为可用，0为禁用</p>
<p>gpgcheck=1：设置此源是否校验文件；1为校验，0为不校验</p>
<p>gpgkey=file:///media/cdrom/RPM-GPG-KEY-redhat-release：若上面参数开启校验，那么请指定公钥文件地址。</p>
</li>
<li>
<p>按配置参数的路径挂在光盘，并把光盘挂载信息写入到/etc/fstab 文件中</p>
</li>
<li>
<p>使用“yum install httpd -y” 命令检查Yum 软件仓库是否已经可用</p>
</li>
</ol>
<p>下面有一个从CDROM 作为软件仓库的例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## cd /etc/yum.repos.d/</span>
<span class="o">[</span>root@linuxprobe yum.repos.d<span class="o">]</span><span class="c1">## vim rhel7.repo</span>
<span class="o">[</span>rhel7<span class="o">]</span>
<span class="nv">name</span><span class="o">=</span>rhel7
<span class="nv">baseurl</span><span class="o">=</span>file:///media/cdrom
<span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="nv">gpgcheck</span><span class="o">=</span><span class="m">0</span>
<span class="o">[</span>root@linuxprobe yum.repos.d<span class="o">]</span><span class="c1">## mkdir -p /media/cdrom</span>
<span class="o">[</span>root@linuxprobe yum.repos.d<span class="o">]</span><span class="c1">## mount /dev/cdrom /media/cdrom</span>
mount: /dev/sr0 is write-protected, mounting read-only
<span class="o">[</span>root@linuxprobe yum.repos.d<span class="o">]</span><span class="c1">## vim /etc/fstab</span>
/dev/cdrom /media/cdrom iso9660 defaults <span class="m">0</span> <span class="m">0</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## yum install httpd</span>
Loaded plugins: langpacks, product-id, subscription-manager
………………省略部分输出信息………………
Dependencies <span class="nv">Resolved</span>
<span class="o">===============================================================================</span>
Package Arch Version Repository <span class="nv">Size</span>
<span class="o">===============================================================================</span>
Installing:
httpd x86_64 2.4.6-17.el7 rhel 1.2 M
Installing <span class="k">for</span> dependencies:
apr x86_64 1.4.8-3.el7 rhel <span class="m">103</span> k
apr-util x86_64 1.5.2-6.el7 rhel <span class="m">92</span> k
httpd-tools x86_64 2.4.6-17.el7 rhel <span class="m">77</span> k
mailcap noarch 2.1.41-2.el7 rhel <span class="m">31</span> k
Transaction <span class="nv">Summary</span>
<span class="o">===============================================================================</span>
Install <span class="m">1</span> Package <span class="o">(</span>+4 Dependent packages<span class="o">)</span>
Total download size: 1.5 M
Installed size: 4.3 M
Is this ok <span class="o">[</span>y/d/N<span class="o">]</span>: y
Downloading packages:
-------------------------------------------------------------------------------
………………省略部分输出信息………………
Complete!
</code></pre></td></tr></table>
</div>
</div><h2 id="编写shell-脚本">编写Shell 脚本</h2>
<blockquote>
<p>Shell 是一种程序设计语言。作为命令语言，它交互式解释和执行用户输入的命令或者自动地解释和执行预先设定好的一连串的命令；作为程序设计语言，它定义了各种变量和参数，并提供了许多在高级语言中才具有的控制结构，包括循环和分支。</p>
</blockquote>
<p>Shell 脚本命令的工作方式有两种：交互式和批处理</p>
<h3 id="编写简单脚本">编写简单脚本</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim example.sh</span>
<span class="nb">pwd</span>
ls -al
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash example.sh</span> 
/root
total <span class="m">44</span>
dr-xr-x---.  <span class="m">6</span> root root <span class="m">4096</span> Mar <span class="m">28</span> 12:26 .
drwxr-xr-x. <span class="m">17</span> root root <span class="m">4096</span> Mar <span class="m">28</span> 09:52 ..
-rw-------.  <span class="m">1</span> root root <span class="m">1115</span> Mar <span class="m">28</span> 09:51 .bash_history
-rw-r--r--.  <span class="m">1</span> root root   <span class="m">18</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bash_logout
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">176</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bash_profile
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">176</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bashrc
drwx------.  <span class="m">4</span> root root   <span class="m">29</span> Mar <span class="m">26</span> 20:05 .cache
drwx------.  <span class="m">6</span> root root   <span class="m">52</span> Mar <span class="m">26</span> 20:05 .config
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">100</span> Dec <span class="m">29</span>  <span class="m">2013</span> .cshrc
drwx------.  <span class="m">3</span> root root   <span class="m">24</span> Mar <span class="m">26</span> 09:36 .dbus
-rw-r--r--.  <span class="m">1</span> root root   <span class="m">11</span> Mar <span class="m">28</span> 12:26 example.sh
drwxr-xr-x.  <span class="m">3</span> root root   <span class="m">18</span> Mar <span class="m">26</span> 16:13 .local
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">129</span> Dec <span class="m">29</span>  <span class="m">2013</span> .tcshrc
-rw-------.  <span class="m">1</span> root root <span class="m">1693</span> Mar <span class="m">28</span> 12:26 .viminfo
-rw-------.  <span class="m">1</span> root root   <span class="m">59</span> Mar <span class="m">28</span> 09:54 .xauthqzqxkc
</code></pre></td></tr></table>
</div>
</div><p>执行脚本的另一种方法是输入完整路径来执行，<strong>但有可能会因为权限不足而报错，这时只需要修改脚本文件权限即可</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ./example.sh</span>
-bash: ./example.sh: Permission denied
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chmod u+x example.sh</span> 
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ./example.sh</span> 
/root
total <span class="m">44</span>
dr-xr-x---.  <span class="m">6</span> root root <span class="m">4096</span> Mar <span class="m">28</span> 12:26 .
drwxr-xr-x. <span class="m">17</span> root root <span class="m">4096</span> Mar <span class="m">28</span> 09:52 ..
-rw-------.  <span class="m">1</span> root root <span class="m">1115</span> Mar <span class="m">28</span> 09:51 .bash_history
-rw-r--r--.  <span class="m">1</span> root root   <span class="m">18</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bash_logout
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">176</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bash_profile
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">176</span> Dec <span class="m">29</span>  <span class="m">2013</span> .bashrc
drwx------.  <span class="m">4</span> root root   <span class="m">29</span> Mar <span class="m">26</span> 20:05 .cache
drwx------.  <span class="m">6</span> root root   <span class="m">52</span> Mar <span class="m">26</span> 20:05 .config
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">100</span> Dec <span class="m">29</span>  <span class="m">2013</span> .cshrc
drwx------.  <span class="m">3</span> root root   <span class="m">24</span> Mar <span class="m">26</span> 09:36 .dbus
-rwxr--r--.  <span class="m">1</span> root root   <span class="m">11</span> Mar <span class="m">28</span> 12:26 example.sh
drwxr-xr-x.  <span class="m">3</span> root root   <span class="m">18</span> Mar <span class="m">26</span> 16:13 .local
-rw-r--r--.  <span class="m">1</span> root root  <span class="m">129</span> Dec <span class="m">29</span>  <span class="m">2013</span> .tcshrc
-rw-------.  <span class="m">1</span> root root <span class="m">1693</span> Mar <span class="m">28</span> 12:26 .viminfo
-rw-------.  <span class="m">1</span> root root   <span class="m">59</span> Mar <span class="m">28</span> 09:54 .xauthqzqxkc
</code></pre></td></tr></table>
</div>
</div><h3 id="接收用户的参数">接收用户的参数</h3>
<p>除了执行预定义的命令，shell脚本还可以接收用户输入的参数。Linux 系统中的 Shell 脚本语言早就考虑到了这些，已经内设了用于接收参数的变量，变量之间可以使用空格间隔。例如$0 对应的是当前 Shell 脚本程序的名称， $#对应的是总共有几个参数， $*对应的是所有位置的参数值， $?对应的是显示上一次命令的执行返回值，而$1、 $2、 $3……则分别对应着第 N 个位置的参数值，如图所示。</p>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4101?authkey=AFBtWHxjrNHYZLw" alt="115e8534-082a-483d-be61-33d059b4a78a.png"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim example.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">&#34;当前脚本名称为</span><span class="nv">$0</span><span class="s2">&#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;总共有</span><span class="nv">$#</span><span class="s2">个参数，分别是</span><span class="nv">$*</span><span class="s2">。 &#34;</span>
<span class="nb">echo</span> <span class="s2">&#34;第 1 个参数为</span><span class="nv">$1</span><span class="s2">，第 5 个为</span><span class="nv">$5</span><span class="s2">。 &#34;</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## sh example.sh one two three four five six</span>
当前脚本名称为 example.sh
总共有 <span class="m">6</span> 个参数，分别是 one two three four five six。
第 <span class="m">1</span> 个参数为 one，第 <span class="m">5</span> 个为 five。
</code></pre></td></tr></table>
</div>
</div><h3 id="判断用户的参数">判断用户的参数</h3>
<p>系统在执行mkdir 命令时会判断用户输入的信息，即判断用户指定的文件夹名称是否已经存在，如果存在则提示报错；反之则自动创建。Shell 脚本中的条件测试语法可以判断表达式是否成立，<strong>若条件成立则返回数字0，否则便返回其他随机数值。条件测试语法的执行格式：[ 条件表达式 ]，其中中括号旁边均有一个空格。</strong></p>
<p>按照测试对象，条件测试语句可以分为4种：</p>
<ul>
<li>文件测试语句；</li>
<li>逻辑测试语句</li>
<li>整数值比较语句</li>
<li>字符串比较语句</li>
</ul>
<h4 id="文件测试所用的参数">文件测试所用的参数</h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>#NAME?</td>
<td>测试文件是否为目录类型</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断是否为一般文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>
<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody>
</table>
<h4 id="文件测试语句">文件测试语句</h4>
<p>下面的例子使用文件测试语句来判断/etc/fstab 是否为一个目录类型的文件，然后通过shell 解释器的内设$? 变量显示上一条命令执行后的返回值。如果返回值为0，则存在，反之不存在。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ -d /etc/fstab ]</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo $?</span>
<span class="m">1</span>
</code></pre></td></tr></table>
</div>
</div><p>再用文件测试语句来判断/etc/fstab 是否为一般文件，如果返回值为0，则代表文件存在，且为一般文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ -f /etc/fstab ]</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo $?</span>
<span class="m">0</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="逻辑测试语句">逻辑测试语句</h4>
<p>逻辑语句用于对测试结果进行逻辑分析，根据测试结果可实现不同的效果。例如在Shell 终端中逻辑“与”的运算符号&amp;&amp;，它表示当前面的命令执行成功后才会执行它后面的命令；逻辑“或”的运算符号为||，表示当前面的命令执行失败后才会执行它后面的命令；逻辑“非”，在Linux 系统中给的运算符号是一个惊叹号！，它表示把条件测试中的结果取相反值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ $USER=root ] &amp;&amp; echo &#34;user=root&#34;</span>
<span class="nv">user</span><span class="o">=</span>root
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ $USER=root ] || echo &#34;user=root&#34;</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ ! $USER=root ] || echo &#34;user=root&#34;</span>
<span class="nv">user</span><span class="o">=</span>root
</code></pre></td></tr></table>
</div>
</div><h4 id="整数比较运算符">整数比较运算符</h4>
<p>💡整数比较运算符仅是对数字的操作，不能将数字与字符串、文件等内容一起操作，而且**不能想当然的使用日常生活中的等号、大于号和小于号等来判断。**这是因为等号与复制命令符冲突，大于小于号与输入重定向符和输出重定向符冲突。</p>
<h4 id="可用的整数比较运算符">可用的整数比较运算符</h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-eq</td>
<td>是否等于</td>
</tr>
<tr>
<td>-ne</td>
<td>是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>是否等于或小于</td>
</tr>
<tr>
<td>-ge</td>
<td>是否大于或等于</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ 10 -gt 9 ] &amp;&amp; echo &#34;10&gt;9&#34;</span>
10&gt;9
</code></pre></td></tr></table>
</div>
</div><p>下面这个例子，用于判断当前剩余内存是否小于1024MB，如果小于则提示“Insufficient Memory”。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## free -m</span>
             total       used       free     shared    buffers     cached
Mem:          <span class="m">1826</span>       <span class="m">1140</span>        <span class="m">686</span>          <span class="m">9</span>          <span class="m">1</span>        <span class="m">442</span>
-/+ buffers/cache:        <span class="m">695</span>       <span class="m">1131</span>
Swap:         <span class="m">2063</span>          <span class="m">0</span>       <span class="m">2063</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## free -m | grep Mem:</span>
Mem:          <span class="m">1826</span>       <span class="m">1140</span>        <span class="m">686</span>          <span class="m">9</span>          <span class="m">1</span>        <span class="m">442</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## free -m | grep Mem: | awk &#39;{print $4}&#39;</span>
<span class="m">686</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## FreeMem=`free -m | grep Mem: | awk &#39;{print $4}&#39;`</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo $FreeMem</span> 
<span class="m">685</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ $FreeMem -lt 1024 ] &amp;&amp; echo &#34;Insufficient Memory&#34;</span>
Insufficient Memory
</code></pre></td></tr></table>
</div>
</div><h4 id="字符串比较语句">字符串比较语句</h4>
<h4 id="常见的字符串比较运算符">常见的字符串比较运算符</h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>比较字符串内容是否相同</td>
</tr>
<tr>
<td>!=</td>
<td>比较字符串内容是否不同</td>
</tr>
<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody>
</table>
<p>下面这个例子用于判断当前的语系环境变量值是不是（<a href="http://en.US">en.US</a>）</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ -z $LANG ] &amp;&amp; echo &#34;Empty String&#34;</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## [ ! $LANG = &#34;en.US&#34; ] &amp;&amp; echo &#34;Not en.US&#34;</span>
Not en.US
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo $LANG</span>
en_US.utf8
</code></pre></td></tr></table>
</div>
</div><h2 id="流程控制语句">流程控制语句</h2>
<h3 id="if-条件测试语句">if 条件测试语句</h3>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4102?authkey=AFBtWHxjrNHYZLw" alt="e034faa2-92cb-4146-aea6-08650aea89b7.png"></p>
<p>下面这个例子先判断目录“/media/cdrom” 是否存在，如果不存在就创建一个，否则提示“Directory already exists.”</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim mkcdrom.sh</span> 
<span class="c1">#!/bin/bash</span>
<span class="nv">DIR</span><span class="o">=</span><span class="s2">&#34;/media/cdrom&#34;</span>
<span class="k">if</span> <span class="o">[</span> ! -e <span class="nv">$DIR</span> <span class="o">]</span>
<span class="k">then</span>
mkdir DIR
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;Directory already exists.&#34;</span>
<span class="k">fi</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash mkcdrom.sh</span> 
Directory already exists.
</code></pre></td></tr></table>
</div>
</div><p>下面的语句用来验证某台主机是否在线，然后根据返回值的结果，要么显示主机在线信息，要么显示主机不在线信息。这里的脚本使用ping 命令来测试与主机的连通性。其中-c 参数规定尝试的次数，-i参数定义每个数据包的发送间隔，以及使用-W 参数定义等待超时时间。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim chkhost.sh</span>
<span class="c1">#!/bin/bash</span>
ping -c <span class="m">3</span> -i 0.2 -W <span class="m">3</span> <span class="nv">$1</span> <span class="p">&amp;</span>&gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;Host </span><span class="nv">$1</span><span class="s2"> is On-line.&#34;</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;Host </span><span class="nv">$1</span><span class="s2"> is Off-line.&#34;</span>
<span class="k">fi</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash chkhost.sh 8.8.8.8</span>
Host 8.8.8.8 is On-line.
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash chkhost.sh 1.1.1.1</span>
Host 1.1.1.1 is On-line.
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash chkhost.sh 2.2.2.2</span>
</code></pre></td></tr></table>
</div>
</div><p><a href="https://zh.wikipedia.org/wiki//dev/null">/dev/null</a> 是一个被称作 Linux 黑洞的文件，把输出信息重定向到这个文件等同于删除数据（类似于没有回收功能的垃圾箱），可以让用户的屏幕窗口保持简洁。</p>
<p>多分支条件语句通过下面这个例子了解，读取用户输入的分数，然后判断在哪个区间内，然后输出如Excellent、Pass、Fail 等提示信息。其中read 语句可以让用户从屏幕输入。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim clsscore.sh</span> 
<span class="c1">#!/bin/bash</span>
<span class="nb">read</span> -p <span class="s2">&#34;Enter your score (0-100): &#34;</span> GRADE
<span class="k">if</span> <span class="o">[</span> <span class="nv">$GRADE</span> -gt <span class="m">100</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nv">$GRADE</span> -lt <span class="m">0</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;That&#39;s impossible!&#34;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$GRADE</span> -ge <span class="m">80</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;You are excellent!&#34;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$GRADE</span> -ge <span class="m">60</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;You are pass.&#34;</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;You are fail...&#34;</span>
<span class="k">fi</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash clsscore.sh</span> 
Enter your score <span class="o">(</span>0-100<span class="o">)</span>: <span class="m">111</span>
That<span class="s1">&#39;s impossible!
</span><span class="s1">[root@linuxprobe ~]## bash clsscore.sh 
</span><span class="s1">Enter your score (0-100): -1
</span><span class="s1">That&#39;</span>s impossible!
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash clsscore.sh</span> 
Enter your score <span class="o">(</span>0-100<span class="o">)</span>: <span class="m">80</span>
You are excellent!
</code></pre></td></tr></table>
</div>
</div><h3 id="for-条件循环语句">for 条件循环语句</h3>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4103?authkey=AFBtWHxjrNHYZLw" alt="b89cd27b-42d1-4fa6-9f0d-46907c7759a6.png"></p>
<p>下面的例子，从user.txt 文件中读取多个用户名，然后逐一创建用户账号并设置密码。首先创建用户名称的列表文件users.txt，每个用户名称单独一行。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim users.txt</span>
zhangsan
lisi
wangwu
zhaoliu
wuqi
zhuba
</code></pre></td></tr></table>
</div>
</div><p>接下来编写Shell <a href="http://xn--Example-1w5o308p.sh">脚本Example.sh</a> 。在脚本中使用read 命令读取用户输入的密码值，然后赋值给PASSWD 变量，并通过-p 参数向用户显示一段信息，告诉用户正在输入的内容作为账户密码。在执行该脚本后，会自动使用从列表文件 users.txt 中获取到所有的用户名称，然后逐一使用“id 用户名”命令查看用户的信息，并使用$?判断这条命令是否执行成功，也就是判断该用户是否已经存在。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim users.txt</span>
zhangsan
lisi
wangwu
zhaoliu
wuqi
zhuba
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim Example.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">read</span> -p <span class="s2">&#34;Enter The Users Password : &#34;</span> PASSWD
<span class="k">for</span> UNAME in <span class="sb">`</span>cat users.txt<span class="sb">`</span>
<span class="k">do</span>
id <span class="nv">$UNAME</span> <span class="p">&amp;</span>&gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;Already exists&#34;</span>
<span class="k">else</span>
useradd <span class="nv">$UNAME</span> <span class="p">&amp;</span>&gt; /dev/null
<span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$PASSWD</span><span class="s2">&#34;</span> <span class="p">|</span> passwd --stdin <span class="nv">$UNAME</span> <span class="p">&amp;</span>&gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq <span class="m">0</span> <span class="o">]</span>
<span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$UNAME</span><span class="s2"> , Create success&#34;</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$UNAME</span><span class="s2"> , Create failure&#34;</span>
<span class="k">fi</span>
<span class="k">fi</span>
<span class="k">done</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash example.sh</span> 
Enter The Users PASSWORD: <span class="m">1</span>
zhangsan , Create success
lisi , Create success
wangwu , Create success
zhaoliu , Create success
wuqi , Create success
zhuba , Create success
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## tail -6 /etc/passwd</span> 
zhangsan❌1001:1001::/home/zhangsan:/bin/bash
lisi❌1002:1002::/home/lisi:/bin/bash
wangwu❌1003:1003::/home/wangwu:/bin/bash
zhaoliu❌1004:1004::/home/zhaoliu:/bin/bash
wuqi❌1005:1005::/home/wuqi:/bin/bash
zhuba❌1006:1006::/home/zhuba:/bin/bash
</code></pre></td></tr></table>
</div>
</div><p>下面的例子用来检测Host 主机是否在线</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim ipaddrs.txt</span>
8.8.8.8
114.114.114.114
119.29.29.29
223.5.5.5
22.222.222.222
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim CheckHosts.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nv">HLIST</span><span class="o">=</span><span class="k">$(</span>cat ~/ipaddrs.txt<span class="k">)</span>
<span class="k">for</span> IP in <span class="nv">$HLIST</span>
<span class="k">do</span>
ping -c <span class="m">3</span> -i 0.2 -W <span class="m">3</span> <span class="nv">$IP</span> <span class="p">&amp;</span>&gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -eq <span class="m">0</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;Host </span><span class="nv">$IP</span><span class="s2"> is On-line.&#34;</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;Host </span><span class="nv">$IP</span><span class="s2"> is Off-line.&#34;</span>
<span class="k">fi</span>
<span class="k">done</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash CheckHosts.sh</span> 
Host 8.8.8.8 is Off-line.
Host 114.114.114.114 is On-line.
Host 119.29.29.29 is On-line.
Host 223.5.5.5 is On-line.
Host 22.222.222.222 is Off-line.
</code></pre></td></tr></table>
</div>
</div><h3 id="while-条件循环语句">while 条件循环语句</h3>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4104?authkey=AFBtWHxjrNHYZLw" alt="9432da2b-5b63-43dc-b8f7-18735c047888.png"></p>
<p>这里简单以一个猜价格的例子说明</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vi gussprice.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nv">PRICE</span><span class="o">=</span><span class="k">$(</span>expr <span class="nv">$RANDOM</span> % 1000<span class="k">)</span>
<span class="nv">TIMES</span><span class="o">=</span><span class="m">0</span>
<span class="nb">echo</span> <span class="s2">&#34;The price is in 0-1000, guess it!&#34;</span>
<span class="k">while</span> <span class="nb">true</span>
<span class="k">do</span>
<span class="nb">read</span> -p <span class="s2">&#34;Please enter a number:&#34;</span> GUESS
<span class="nb">let</span> TIMES++
<span class="k">if</span> <span class="o">[</span> <span class="nv">$GUESS</span> -gt <span class="m">1000</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nv">$GUESS</span> -lt <span class="m">0</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;That&#39;s impossible.&#34;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$GUESS</span> -gt <span class="nv">$PRICE</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;Your guess is bigger than the price.&#34;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$GUESS</span> -lt <span class="nv">$PRICE</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
<span class="nb">echo</span> <span class="s2">&#34;Your guess is litter than the price.&#34;</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="s2">&#34;You are right! The price is </span><span class="nv">$PRICE</span><span class="s2">, and you use </span><span class="nv">$TIMES</span><span class="s2"> times.&#34;</span>
<span class="nb">exit</span> <span class="m">0</span>
<span class="k">fi</span>
<span class="k">done</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash gussprice.sh</span> 
The price is in 0-1000, guess it!
Please enter a number:-1
That<span class="err">&#39;</span>s impossible.
Please enter a number:500
Your guess is bigger than the price.
Please enter a number:250
Your guess is bigger than the price.
Please enter a number:125
Your guess is bigger than the price.
Please enter a number:75
Your guess is bigger than the price.
Please enter a number:37
Your guess is bigger than the price.
Please enter a number:19
Your guess is bigger than the price.
Please enter a number:9
Your guess is litter than the price.
Please enter a number:14
Your guess is litter than the price.
Please enter a number:17
You are right! The price is 17, and you use <span class="m">10</span> times.
</code></pre></td></tr></table>
</div>
</div><h3 id="case-条件测试语句">case 条件测试语句</h3>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4105?authkey=AFBtWHxjrNHYZLw" alt="30c44532-9404-4dd9-8532-b7fcd4e3b243.png"></p>
<p>case 语句是在多个范围内匹配数据，若匹配成功则执行相关命令并结束整个条件测试；而如果数据不在所列出的范围内，则会去执行星号（ *）中所定义的默认命令。</p>
<p>再上一个猜价格的程序中，有个致命的缺陷，如果用户输入了一个英文字母，在和整数进行比较时就会出现错误。这里通过case 语句来进行判断。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vim Checkkeys.sh</span>
<span class="c1">#!/bin/bash</span>
<span class="nb">read</span> -p <span class="s2">&#34;请输入一个字符，并按 Enter 键确认： &#34;</span> KEY
<span class="k">case</span> <span class="s2">&#34;</span><span class="nv">$KEY</span><span class="s2">&#34;</span> in
<span class="o">[</span>a-z<span class="o">]</span><span class="p">|</span><span class="o">[</span>A-Z<span class="o">])</span>
<span class="nb">echo</span> <span class="s2">&#34;您输入的是 字母。 &#34;</span>
<span class="p">;;</span>
<span class="o">[</span>0-9<span class="o">])</span>
<span class="nb">echo</span> <span class="s2">&#34;您输入的是 数字。 &#34;</span>
<span class="p">;;</span>
*<span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&#34;您输入的是 空格、功能键或其他控制字符。 &#34;</span>
<span class="k">esac</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash Checkkeys.sh</span>
请输入一个字符，并按 Enter 键确认： <span class="m">6</span>
您输入的是 数字。
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash Checkkeys.sh</span>
请输入一个字符，并按 Enter 键确认： p
您输入的是 字母。
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## bash Checkkeys.sh</span>
请输入一个字符，并按 Enter 键确认： ^<span class="o">[[</span>15~
您输入的是 空格、功能键或其他控制字符。
</code></pre></td></tr></table>
</div>
</div><h2 id="计划任务服务程序">计划任务服务程序</h2>
<p>计划任务分为一次性计划任务与长期性计划任务，就像闹钟的只响一次和每周五早上8点响铃一样。</p>
<p>我们可以用at 命令实现一次性计划任务，只需要写成”at 时间“的形式就可以。如果想要查看已设置好但还未执行的一次性计划任务，可以使用”at -l“命令；如果想要系那个其删除，可以用”atrm 任务序号“。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## at 21:00</span>
at&gt; systemctl restart httpd
at&gt; &lt;EOT&gt;
job <span class="m">1</span> at Sat Mar <span class="m">28</span> 21:00:00 <span class="m">2020</span>
</code></pre></td></tr></table>
</div>
</div><p>上面这种方式是交互式方式创建，我们还可以使用管道符进行非交互式创建一次性计划任务服务。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## at -l</span>
1	Sat Mar <span class="m">28</span> 21:00:00 <span class="m">2020</span> a root
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## atrm 1</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo &#34;systemctl restart httpd&#34; | at 21:00</span>
job <span class="m">2</span> at Sat Mar <span class="m">28</span> 21:00:00 <span class="m">2020</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## at -l</span>
2	Sat Mar <span class="m">28</span> 21:00:00 <span class="m">2020</span> a root
</code></pre></td></tr></table>
</div>
</div><p>如果我们希望Linux 系统能执行长期计划任务，那么使用Linux 系统中默认启用的crond 服务简直再合适不过了。创建、编辑计划任务的命令为”crontab -e“，查看当前计划任务的命令为”crontab -l“，删除某条计划任务的命令为”crontab -r“。另外，如果我们是以管理员身份登录的系统，还可以在crontab 命令中加上-u 参数来编辑他人的计划任务。</p>
<p>crond 服务设置任务的参数格式为”分、时、日、月、星期 命令“，如果某些字段没有设置，则需要使用星号（*）占位。</p>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4106?authkey=AFBtWHxjrNHYZLw" alt="6c24ae29-dd6b-4c3f-ba1f-e0038edbe882.png"></p>
<p>需要说明的是，除了用逗号（ ,）来分别表示多个时间段，例如“8,9,12”表示 8 月、 9 月和 12 月。还可以用减号（ -）来表示一段连续的时间周期（例如字段“日”的取值为“12-15”，则表示每月的 12～15 日）。以及用除号（ /）表示执行任务的间隔时间（例如“/2”表示每隔2 分钟执行一次任务）之外。</p>
<p>💡如果在 crond 服务中需要同时包含多条计划任务的命令语句，应每行仅写一条。例如我们再添加一条计划任务，它的功能是每周一至周五的凌晨 1 点钟自动清空/tmp 目录内的所有文件。尤其需要注意的是，在 crond 服务的计划任务参数中，所有命令一定要用绝对路径的方式来写，如果不知道绝对路径，请用 whereis 命令进行查询， rm 命令路径为下面输出信息中加粗部分。</p>
<p>值得注意的是：</p>
<ul>
<li>在crond 服务的配置参数中，可以像 Shell 脚本那样以#号开头写上注释信息，这样在日后回顾这段命令代码时可以快速了解其功能、需求以及编写人员等重要信息。</li>
<li>计划任务中的“分”字段必须有数值，绝对不能为空或是*号，而“日”和“星期”字段不能同时使用，否则就会发生冲突</li>
</ul>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Dereen</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2019-09-04
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://happy.dereen.top/tags/linux/">Linux</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/linuxnotes03/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">LinuxNotes.管道符、重定向与环境变量</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/linuxnotes01/">
            <span class="next-text nav-default">LinuxNotes.常用命令</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "DereenMec/hugovercelcom"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:dereenmec@outlook.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/dereen_" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://www.facebook.com/xbzzhc" rel="me noopener" class="iconfont"
      title="facebook"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M965.7344 2.7648c14.848 0 28.2624 5.5296 40.2432 16.6912C1017.9584 30.5152 1024 43.52 1024 58.2656l0 910.2336c0 14.848-6.0416 27.7504-18.0224 38.8096C993.8944 1018.4704 980.48 1024 965.7344 1024L704.9216 1024 704.9216 629.9648l133.2224 0 19.456-155.4432-152.576 0L705.024 373.0432c0-50.688 25.9072-76.0832 77.7216-76.0832l80.4864 0L863.232 163.5328c-27.7504-5.4272-67.4816-8.192-119.296-8.192-59.1872 0-106.8032 18.0224-142.9504 54.0672C564.736 245.5552 546.7136 296.0384 546.7136 360.7552l0 113.7664L413.4912 474.5216l0 155.4432 133.2224 0L546.7136 1024 55.5008 1024c-14.848 0-27.7504-5.5296-38.8096-16.6912C5.5296 996.2496 0 983.3472 0 968.4992L0 58.2656C0 43.52 5.5296 30.5152 16.6912 19.456c11.0592-11.0592 24.064-16.6912 38.8096-16.6912L965.7344 2.7648z"></path>
</svg>

    </a>
  
    <a href="https://github.com/dereenmec" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/xbzzhc" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="https://space.bilibili.com/6509651" rel="me noopener" class="iconfont"
      title="bilibili"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 1024 1024" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="M 744.60599,0.00486267 A 41.779915,41.779915 0 0 0 710.4184,18.673394 L 548.5048,255.32642 h -11.70046 a 41.779915,41.779915 0 0 0 -10.80295,-7.84928 L 235.66,97.084498 a 41.779915,41.779915 0 0 0 -20.07193,-4.960864 41.779915,41.779915 0 0 0 -18.3748,79.145436 L 359.4859,255.32642 H 128.16909 c -49.458302,0 -89.27932,39.82105 -89.27932,89.27932 v 508.65224 c 0,49.4583 39.821018,89.27934 89.27932,89.27934 h 19.48445 C 149.12802,984.5043 179.92773,1024 224.79179,1024 c 44.86407,0 75.66379,-39.4957 77.13826,-81.46268 H 719.98116 C 721.45559,984.5043 752.25533,1024 797.1194,1024 c 44.86406,0 75.6638,-39.4957 77.13824,-81.46268 h 21.57323 c 49.45831,0 89.27936,-39.82104 89.27936,-89.27934 V 344.60574 c 0,-49.45827 -39.82105,-89.27932 -89.27936,-89.27932 H 649.74567 L 779.38103,65.866924 A 41.779915,41.779915 0 0 0 744.60599,0.00486267 Z M 644.49108,418.70871 c 6.29985,0.21538 12.44451,2.01107 17.86888,5.22196 l 171.36218,98.10771 c 18.23417,10.21935 24.63334,33.34627 14.24614,51.48533 -10.38726,18.13909 -33.57344,24.32718 -51.61587,13.77296 L 624.9903,489.18895 c -15.21356,-8.41858 -22.66871,-26.1765 -18.03211,-42.93436 4.63664,-16.75784 20.15573,-28.14465 37.53289,-27.54588 z M 350.2006,432.31846 c 16.89952,0.0317 31.69582,11.33328 36.17844,27.62747 4.48262,16.2942 -2.44981,33.57765 -16.95507,42.24898 l -140.7157,86.91312 c -17.68528,11.18244 -41.09629,5.77692 -52.08912,-12.02686 -10.99282,-17.80373 -5.33855,-41.15658 12.58167,-51.95857 L 329.9002,438.2095 c 6.0643,-3.86439 13.10951,-5.90891 20.3004,-5.89104 z M 501.605,641.53985 c 3.75002,-0.15248 7.48645,0.53903 10.93349,2.0235 0.15842,0.0637 0.31618,0.12888 0.47325,0.19582 0.59328,0.27092 1.17574,0.56489 1.74609,0.88121 0.15868,0.0854 0.31643,0.17233 0.47325,0.2611 0.55694,0.32165 1.10131,0.66458 1.63185,1.02807 0.16455,0.1123 0.32777,0.2265 0.48956,0.34269 0.50382,0.36781 0.99371,0.75428 1.46868,1.15864 0.18724,0.15504 0.37218,0.31282 0.55484,0.47323 0.43271,0.38784 0.8518,0.79061 1.25653,1.20756 0.15449,0.16114 0.30679,0.32437 0.45693,0.48959 0.40798,0.44266 0.79989,0.89988 1.17494,1.37076 0.17799,0.22544 0.35205,0.45395 0.5222,0.68538 0.25932,0.34701 0.50964,0.70071 0.75064,1.06071 0.26712,0.39516 0.52286,0.79784 0.76699,1.20757 0.16907,0.29043 0.33231,0.58424 0.48957,0.88123 0.21836,0.41297 0.42513,0.83199 0.62009,1.25653 0.14836,0.32333 0.28983,0.64976 0.42429,0.97911 0.21319,0.51552 0.40915,1.03801 0.58747,1.5666 0.0677,0.19499 0.13296,0.39085 0.19582,0.58748 0.18652,0.60823 0.34984,1.22334 0.48957,1.84399 0.0397,0.16277 0.0779,0.32601 0.11423,0.48957 0.1436,0.69112 0.25788,1.38801 0.34269,2.08877 0.005,0.0381 0.0111,0.0761 0.0163,0.11424 0.0857,0.78056 0.13474,1.56471 0.14687,2.34988 0.005,0.0543 0.0111,0.10879 0.0163,0.1632 0,0 -0.008,1.12132 0,1.45234 0,0 -0.14697,17.84761 5.89102,34.12231 3.01902,8.13734 7.33278,15.10615 12.61433,19.61501 5.28157,4.50889 11.42894,7.62081 23.64572,7.62081 12.2168,0 18.36416,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.5953,-11.47767 12.6143,-19.61501 6.03799,-16.2747 5.89103,-34.12231 5.89103,-34.12231 -0.44885,-13.87045 10.45922,-25.46302 24.3311,-25.86506 13.87189,-0.40201 25.42828,10.53953 25.78348,24.41272 0,0 1.11929,25.7226 -9.00791,53.01927 -5.06359,13.64832 -13.1986,28.46036 -27.05631,40.29073 -13.85772,11.83039 -33.5454,19.63135 -56.20142,19.63135 -22.65603,0 -42.34371,-7.80096 -56.20141,-19.63135 -4.1801,-3.56856 -7.78733,-7.42433 -10.99878,-11.42303 -3.21235,4.00037 -6.81703,7.85309 -10.99876,11.42303 -13.85773,11.83039 -33.5454,19.63135 -56.20144,19.63135 -22.65601,0 -42.3437,-7.80096 -56.2014,-19.63135 -13.85775,-11.83037 -21.99272,-26.64241 -27.05632,-40.29073 -10.12725,-27.29667 -9.00789,-53.01928 -9.00789,-53.01927 0.20714,-13.83687 11.58744,-24.88848 25.42444,-24.69013 14.1263,0.19991 25.2971,12.0278 24.69011,26.14247 0,0 -0.14697,17.84761 5.89103,34.12231 3.01902,8.13734 7.31646,15.10615 12.598,19.61501 5.28155,4.50889 11.44526,7.62081 23.66203,7.62081 12.21681,0 18.36418,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.57899,-11.47767 12.598,-19.61501 5.76352,-15.53489 5.89112,-32.05691 5.89103,-33.56746 0.006,-0.37466 0.0111,-1.05336 0.0163,-1.20759 -0.0117,-0.74583 0.0105,-1.49177 0.0652,-2.23565 0.009,-0.15784 0.0204,-0.31561 0.0327,-0.47324 0.14204,-1.56859 0.43163,-3.12027 0.86487,-4.63449 0.0213,-0.0763 0.0433,-0.15244 0.0652,-0.22848 3.0335,-10.25748 12.24157,-17.46007 22.92769,-17.93417 z"
      id="rect824"/>
</svg>

    </a>


<a href="https://happy.dereen.top/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Dereen
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>








<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
