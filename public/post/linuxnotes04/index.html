<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>LinuxNotes.用户身份与文件权限 - Dereen - 深海游泳</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Dereen" />
  <meta name="description" content="用户身份与能力 好多人的潜意识中，Linux 系统中的管理员就是root。这其实是错误的，Linux 系统的管理员之所以是root，并不是因为它的" />

  <meta name="keywords" content="Blog, 博客, C&#43;&#43;, Python, AI" />






<meta name="generator" content="Hugo 0.69.0" />


<link rel="canonical" href="https://happy.dereen.top/post/linuxnotes04/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="LinuxNotes.用户身份与文件权限" />
<meta property="og:description" content="用户身份与能力 好多人的潜意识中，Linux 系统中的管理员就是root。这其实是错误的，Linux 系统的管理员之所以是root，并不是因为它的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://happy.dereen.top/post/linuxnotes04/" />
<meta property="article:published_time" content="2019-09-09T12:46:25+08:00" />
<meta property="article:modified_time" content="2019-09-09T12:46:25+08:00" />
<meta itemprop="name" content="LinuxNotes.用户身份与文件权限">
<meta itemprop="description" content="用户身份与能力 好多人的潜意识中，Linux 系统中的管理员就是root。这其实是错误的，Linux 系统的管理员之所以是root，并不是因为它的">
<meta itemprop="datePublished" content="2019-09-09T12:46:25&#43;08:00" />
<meta itemprop="dateModified" content="2019-09-09T12:46:25&#43;08:00" />
<meta itemprop="wordCount" content="6211">



<meta itemprop="keywords" content="Linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LinuxNotes.用户身份与文件权限"/>
<meta name="twitter:description" content="用户身份与能力 好多人的潜意识中，Linux 系统中的管理员就是root。这其实是错误的，Linux 系统的管理员之所以是root，并不是因为它的"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-164262586-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Dereen</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/about/">关于</a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Dereen
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://happy.dereen.top/about/">关于</a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">LinuxNotes.用户身份与文件权限</h1>
      
      <div class="post-meta">
        <time datetime="2019-09-09" class="post-time">
          2019-09-09
        </time>
        <div class="post-category">
            
          </div>
        <span class="more-meta"> 约 6211 字 </span>
          <span class="more-meta"> 预计阅读 13 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#用户身份与能力">用户身份与能力</a>
      <ul>
        <li><a href="#useradd-用于创建新的用户">useradd 用于创建新的用户</a></li>
        <li><a href="#groupadd-命令用于创建用户组">groupadd 命令用于创建用户组</a></li>
        <li><a href="#usermod-命令用于修改用户的属性">usermod 命令用于修改用户的属性</a></li>
        <li><a href="#passwd-命令用于修改用户密码过期时间认证信息等">passwd 命令用于修改用户密码、过期时间、认证信息等</a></li>
        <li><a href="#userdel-命令用于删除用户">userdel 命令用于删除用户</a></li>
      </ul>
    </li>
    <li><a href="#文件权限与归属">文件权限与归属</a></li>
    <li><a href="#文件的特殊权限">文件的特殊权限</a>
      <ul>
        <li><a href="#suid-针对二进制文件">SUID （针对二进制文件）</a></li>
        <li><a href="#sgid针对二进制文件和目录">SGID（针对二进制文件和目录）</a></li>
        <li><a href="#sbit针对目录">SBIT（针对目录）</a></li>
        <li><a href="#chmod-和chown">chmod 和chown</a></li>
      </ul>
    </li>
    <li><a href="#文件的隐藏属性">文件的隐藏属性</a>
      <ul>
        <li><a href="#chattr-命令用于设置文件的隐藏权限">chattr 命令用于设置文件的隐藏权限</a></li>
        <li><a href="#lsattr-命令用于显示文件的隐藏权限">lsattr 命令用于显示文件的隐藏权限</a></li>
      </ul>
    </li>
    <li><a href="#文件访问控制列表">文件访问控制列表</a>
      <ul>
        <li><a href="#setfacl-命令用于管理文件的acl规则">setfacl 命令用于管理文件的ACL规则</a></li>
        <li><a href="#getfacl-命令用于显示文件上设置的acl信息">getfacl 命令用于显示文件上设置的ACL信息</a></li>
      </ul>
    </li>
    <li><a href="#su-命令与sudo-服务">su 命令与sudo 服务</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <h2 id="用户身份与能力">用户身份与能力</h2>
<p>好多人的潜意识中，Linux 系统中的管理员就是root。这其实是错误的，Linux 系统的管理员之所以是root，并不是因为它的名字叫root，而是因为该用户的身份号码即UID（User IDentification）的数值为0。在Linux 系统中，UID就相当于每个用户的身份证号码，它具有唯一性，因此可通过UID值来判断用户身份。在RHEL 7系统中，用户身份有下面这些：</p>
<ul>
<li>管理员UID为0：系统管理员用户</li>
<li>系统用户UID为1~999：Linux 系统为了避免某个服务程序出现漏洞而被黑客提权至整台服务器，默认服务程序会有独立的系统用户负责运行，进而有效控制被破坏范围</li>
<li>普通用户UID从1000开始：是由管理员创建的用于日常工作的用户</li>
</ul>
<p>为了方便管理属于同一组的用户，Linux 系统中还引入了用户组概念。通过使用用户组号码（GID，Group IDentification），我们可以把多个用户加入同一组中，从而方便为组中的用户统一规划权限或指定人物。</p>
<p>另外，在 Linux 系统中创建每个用户时，将自动创建一个与其同名的基本用户组，而且这个基本用户组只有该用户一个人。如果该用户以后被归纳入其他用户组，则这个其他用户组称之为扩展用户组。一个用户只有一个基本用户组，但是可以有多个扩展用户组，从而满足日常的工作需要。</p>
<h3 id="useradd-用于创建新的用户">useradd 用于创建新的用户</h3>
<p>useradd [选项] 用户名</p>
<p>使用 useradd 命令创建用户账户。使用该命令创建用户账户时，默认的用户家目录会被存放在/home 目录中，默认的 Shell 解释器为/bin/bash，而且默认会创建一个与该用户同名的基本用户组。这些默认设置可以根据下表中的useradd 命令参数自行修改。</p>
<h4 id="用户参数及其作用">用户参数及其作用</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>指定用户的家目录（默认为/home/username）</td>
</tr>
<tr>
<td>-e</td>
<td>账户的到期时间，格式为 YYYY-MM-DD.</td>
</tr>
<tr>
<td>-u</td>
<td>指定该用户的默认 UID</td>
</tr>
<tr>
<td>-g</td>
<td>指定一个初始的用户基本组（必须已存在）</td>
</tr>
<tr>
<td>-G</td>
<td>指定一个或多个扩展用户组</td>
</tr>
<tr>
<td>-N</td>
<td>不创建与用户同名的基本用户组</td>
</tr>
<tr>
<td>-s</td>
<td>指定该用户的默认 Shell 解释器</td>
</tr>
</tbody>
</table>
<p>下面我们创建一个普通用户并指定家目录路径、用户UID以及Shell 解释器。下面的命令中，我们使用了/sbin/nologin 作为终端解释器，这代表着该用户不能登录到系统中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## useradd -d /home/linux -u 8888 -s /sbin/nologin linuxprobe2</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## id linuxprobe2</span>
<span class="nv">uid</span><span class="o">=</span>8888<span class="o">(</span>linuxprobe2<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>8888<span class="o">(</span>linuxprobe2<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>8888<span class="o">(</span>linuxprobe2<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="groupadd-命令用于创建用户组">groupadd 命令用于创建用户组</h3>
<p>groupadd [选项] 群组名</p>
<p>为了更高效地指派系统中各个用户地权限，在工作中常常会把几个用户加入到同一个组，这样可以针对一类用户统一安排权限。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## groupadd shabi</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="usermod-命令用于修改用户的属性">usermod 命令用于修改用户的属性</h3>
<p>usermod [选项] 用户名</p>
<p>在Linux 系统中，一切都是文件，因此在系统中创建用户也就是修改配置文件的过程。我们可以通过修改/etc/passwd 文件来修改其中的用户参数，也可使用usermod 命令修改已经创建的用户信息。</p>
<h4 id="命令中的参数及作用">命令中的参数及作用</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>填写用户账户的备注信息</td>
<td></td>
</tr>
<tr>
<td>-d -m</td>
<td>参数-m 与参数-d 连用，可重新指定用户的家目录并自动把旧的数据转移过去</td>
<td></td>
</tr>
<tr>
<td>-e</td>
<td>账户的到期时间，格式为 YYYY-MM-DD</td>
<td></td>
</tr>
<tr>
<td>-g</td>
<td>变更所属用户组</td>
<td></td>
</tr>
<tr>
<td>-G</td>
<td>变更扩展用户组</td>
<td></td>
</tr>
<tr>
<td>-L</td>
<td>锁定用户禁止其登录系统</td>
<td></td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户，允许其登录系统</td>
<td></td>
</tr>
<tr>
<td>-s</td>
<td>变更默认终端</td>
<td></td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的 UID</td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## id linuxprobe</span>
<span class="nv">uid</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span>,10<span class="o">(</span>wheel<span class="o">)</span>
<span class="c1">## 修改用户扩展组</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## usermod -G root linuxprobe</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## id linuxprobe</span>
<span class="nv">uid</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span>,0<span class="o">(</span>root<span class="o">)</span>
<span class="c1">## 删除上一节中建立的Linuxprobe2用户</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## userdel -r linuxprobe2</span>
<span class="c1">## 修改用户UID</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## usermod -u 8888 linuxprobe</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## id linuxprobe</span>
<span class="nv">uid</span><span class="o">=</span>8888<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>1000<span class="o">(</span>linuxprobe<span class="o">)</span>,0<span class="o">(</span>root<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="passwd-命令用于修改用户密码过期时间认证信息等">passwd 命令用于修改用户密码、过期时间、认证信息等</h3>
<p>passwd [选项] 用户名</p>
<p>普通用户只能使用passwd 命令修改自身的系统密码，而root 管理员则有权限修改其他所有人的密码，而且不需要输入旧密码。</p>
<h4 id="命令中的参数以及作用">命令中的参数以及作用</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>锁定用户，禁止其登录</td>
</tr>
<tr>
<td>-u</td>
<td>解除锁定，允许用户登录</td>
</tr>
<tr>
<td>&ndash;stdin</td>
<td>允许通过标准输入修改用户密码， 如echo &ldquo;NewPassWord&rdquo; | passwd &ndash;stdin  Username</td>
</tr>
<tr>
<td>-d</td>
<td>使该用户可用空密码登录系统</td>
</tr>
<tr>
<td>-e</td>
<td>强制用户在下次登录时修改密码</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户的密码是否被锁定，以及密码所采用的加密算法名称</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">## 使用管理员修改普通用户密码，当提示密码不足8位只需再输入一次即可</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## passwd linuxprobe</span>
Changing password <span class="k">for</span> user linuxprobe.
New password: 
BAD PASSWORD: The password is shorter than <span class="m">8</span> characters
Retype new password: 
passwd: all authentication tokens updated successfully.
<span class="c1">## 锁定linuxprobe 用户，不允许其登录</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## passwd -l linuxprobe</span> 
Locking password <span class="k">for</span> user linuxprobe.
passwd: Success
<span class="c1">## 查看锁定状态</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## passwd -S linuxprobe</span> 
linuxprobe LK 2020-03-29 <span class="m">0</span> <span class="m">99999</span> <span class="m">7</span> -1 <span class="o">(</span>Password locked.<span class="o">)</span>
<span class="c1">## 解锁</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## passwd -u linuxprobe</span> 
Unlocking password <span class="k">for</span> user linuxprobe.
passwd: Success
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## passwd -S linuxprobe</span> 
linuxprobe PS 2020-03-29 <span class="m">0</span> <span class="m">99999</span> <span class="m">7</span> -1 <span class="o">(</span>Password set, SHA512 crypt.<span class="o">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="userdel-命令用于删除用户">userdel 命令用于删除用户</h3>
<p>userdel [选项] 用户名</p>
<h4 id="参数及其作用">参数及其作用</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>强制删除用户</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户及用户家目录</td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## userdel -r linuxprobe</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="文件权限与归属">文件权限与归属</h2>
<p>尽管在Linux 系统中一切都是文件，但是每个文件的类型不尽相同，因此Linux 系统使用了不同的字符来加以区分，常见的字符如下所示。</p>
<ul>
<li>-：普通文件</li>
<li>d：目录文件</li>
<li>l：链接文件</li>
<li>b：块设备文件</li>
<li>c：字符设备文件</li>
<li>p：管道文件</li>
</ul>
<p>在 Linux 系统中，每个文件都有所属的所有者和所有组，并且规定了文件的所有者、所有组以及其他人对文件所拥有的可读（ r）、可写（ w）、可执行（x）等权限。对于<strong>一般文件</strong>来说，“可读”表示能够读取文件的实际内容；“可写”表示能够编辑、新增、修改、删除文件的实际内容； “可执行”则表示能够运行一个脚本程序。</p>
<p>对<strong>目录文件</strong>来说，可读”表示能够读取目录内的文件列表；“可写”表示能够在目录内新增、删除、重命名文件；而“可执行”则表示能够进入该目录。</p>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4108?authkey=AFBtWHxjrNHYZLw" alt="90b42cc9-ec61-4cfb-9ed3-ad8d9ccd631a.png"></p>
<p>文件权限的<strong>数字法基于字符表示（rwx）的权限计算而来</strong>，其目的是简化权限的表示。例如，某个文件的权限为777则代表文件所有者、文件所属组和其他用户都：可读、可写、可执行。</p>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4109?authkey=AFBtWHxjrNHYZLw" alt="3490838c-7da5-4e3c-b48c-d9e237f1d2a7.png"></p>
<p>34298为文件大小（字节），最近一次修改时间为4月2日凌晨23分，文件名为install.log。</p>
<h2 id="文件的特殊权限">文件的特殊权限</h2>
<p>在复杂多变的生产环境中，单纯设置文件的 rwx 权限无法满足我们对安全和灵活性的需求，因此便有了 SUID、 SGID 与 SBIT 的特殊权限位。这是一种对文件权限进行设置的特殊功能，可以与一般权限同时使用，以弥补一般权限不能实现的功能。</p>
<h3 id="suid-针对二进制文件">SUID （针对二进制文件）</h3>
<p>在Linux 中，所有账号的密码记录在/etc/shadow 这个文件中，并且只有root 可以读写这个文件。但是普通用户要想修改自己的密码怎么办呢，这叫要通过给/bin/passwd 这个文件赋予SUID权限，然后普通用户就可以在调用passwd 的过程中变为root 身份。但是，如果调用cat 查看/etc/shadow 内容则不可。</p>
<p><img src="https://storage.live.com/items/55AB66419C029DA!4110?authkey=AFBtWHxjrNHYZLw" alt="e978b6e2-c14e-4345-b797-1f5faf988707.png"></p>
<p>总结：SUID是一种针对<strong>二进制</strong>程序设置的特殊权限，可以让二进制程序的<strong>执行者</strong>在执行的过程中<strong>临时拥有属主的权限</strong>，当然<strong>前提你得有执行权限</strong>。</p>
<h3 id="sgid针对二进制文件和目录">SGID（针对二进制文件和目录）</h3>
<p>SGID主要实现下面两种功能：</p>
<ul>
<li>让执行者临时拥有属组的权限（对拥有执行权限的二进制程序进行设置）</li>
<li>在某个目录中创建的文件自动继承该目录的用户组（只可以对目录进行设置）</li>
</ul>
<p>SGID的第一种功能类似于SUID，不同点在于执行程序的用户获取的不再是文件所有者的临时权限，而是获取到文件所属组的权限。</p>
<p>在Linux 系统中，每个文件都有其归属的所有者和所属组，当创建或传送一个文件后，这个文件就会自动归属于执行这个操作的用户。如果现在需要在一个部门内设置共享目录，让部门所有人员都能够读取目录中的内容，那么就可以创建部门共享目录后，在该目录上设置SGID 特殊权限位，这样部门内的任何人员在里面创建的任何文件都会归属于该目录的所属组，而不再是自己的基本用户组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## mkdir /public</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ls -ald /public/</span>
drwxr-xr-x. <span class="m">2</span> root root <span class="m">6</span> Mar <span class="m">29</span> 12:08 /public/
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chmod -Rf 777 /public/</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chmod -Rf g+s /public/</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ls -ald /public/</span>
drwxrwsrwx. <span class="m">2</span> root root <span class="m">6</span> Mar <span class="m">29</span> 12:08 /public/
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## su - linuxprobe</span>
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">cd</span> /public/
<span class="o">[</span>linuxprobe@linuxprobe public<span class="o">]</span>$ touch test.md
<span class="o">[</span>linuxprobe@linuxprobe public<span class="o">]</span>$ ls -ld test.md 
-rw-rw-r--. <span class="m">1</span> linuxprobe root <span class="m">0</span> Mar <span class="m">29</span> 12:13 test.md
</code></pre></td></tr></table>
</div>
</div><h3 id="sbit针对目录">SBIT（针对目录）</h3>
<p>现在，大学里很多老师都要求学生将作业上传到服务器的特定共享目录中，但总是有“破坏分子”喜欢删除其他同学的作业，这时就要设置SBIT（Sticky Bit）特殊权限位了。SBIT特殊权限位可确保用户只能删除自己所属的文件，不能删除其他用户的文件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chmod -Rf 1777 /public/</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## vi /public/test.md</span>
Can not be deleted by others.
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Sun Mar <span class="m">29</span> 17:08:15 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ rm -rf /public/test.md 
rm: cannot remove ‘/public/test.md’: Operation not permitted
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ ls -ld /public/
drwxrwsrwt. <span class="m">2</span> root root <span class="m">20</span> Mar <span class="m">29</span> 17:14 /public/
</code></pre></td></tr></table>
</div>
</div><h3 id="chmod-和chown">chmod 和chown</h3>
<p>chmod 命令用来设置文件或目录的权限，格式为“chmod [参数] 权限 文件或目录名称”。其中常用的参数有：</p>
<ul>
<li>R：递归的将该文件夹和子文件夹以及文件设置为同样的权限</li>
<li>f：静默模式，不显示大多数的错误</li>
</ul>
<p>除了设置文件或目录的权限外，还可以设置文件或目录的所有者和所属组，这里使用的命令为 chown，其格式为“chown [参数] 所有者:所属组 文件或目录名称”。</p>
<p>通过在常规权限前再加数字来设置特殊权限，4为SUID，2为SGID，1为SBIT。</p>
<p>也可以通过英文设置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">chmod u+s testfile ## 为 testfile 文件加上 SUID 权限。
chmod g+s testdir  ## 为 testdir 目录加上 SGID 权限。
chmod o+t testdir  ## 为 testdir 目录加上 SBIT 权限。
</code></pre></td></tr></table>
</div>
</div><h2 id="文件的隐藏属性">文件的隐藏属性</h2>
<p>Linux 系统中的文件除了具备一般权限和特殊权限之外，还有一种隐藏权限，即被隐藏起来的权限，默认情况下不能直接被用户发觉。</p>
<h3 id="chattr-命令用于设置文件的隐藏权限">chattr 命令用于设置文件的隐藏权限</h3>
<p>chattr [参数] 文件。如果想要把某个隐藏功能添加到文件上，则需要在命令后面追加“+参数”，如果想要把某个隐藏功能移出文件，则需要追加“-参数”。</p>
<h4 id="参数及其作用-1">参数及其作用</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而不能新建或删除文件</td>
<td></td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容，无法覆盖/删除内容（ Append Only）</td>
<td></td>
</tr>
<tr>
<td>S</td>
<td>文件内容在变更后立即同步到硬盘（ sync）</td>
<td></td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用 0 填充原文件所在硬盘区域）</td>
<td></td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件或目录的最后访问时间（ atime）</td>
<td></td>
</tr>
<tr>
<td>b</td>
<td>不再修改文件或目录的存取时间</td>
<td></td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
<td></td>
</tr>
<tr>
<td>d</td>
<td>使用 dump 命令备份时忽略本文件/目录</td>
<td></td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或目录进行压缩</td>
<td></td>
</tr>
<tr>
<td>u</td>
<td>当删除该文件后依然保留其在硬盘中的数据，方便日后恢复</td>
<td></td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并（ tail-merging）</td>
<td></td>
</tr>
<tr>
<td>X</td>
<td>可以直接访问压缩文件中的内容</td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo &#34;For test&#34; &gt; linuxprobe</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## rm linuxprobe</span>
rm: remove regular file ‘linuxprobe’? y
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## echo &#34;For test&#34; &gt; linuxprobe</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chattr +a linuxprobe</span> 
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## rm linuxprobe</span> 
rm: remove regular file ‘linuxprobe’? y
rm: cannot remove ‘linuxprobe’: Operation not permitted
</code></pre></td></tr></table>
</div>
</div><h3 id="lsattr-命令用于显示文件的隐藏权限">lsattr 命令用于显示文件的隐藏权限</h3>
<p>lsattr [参数] 文件。隐藏权限使用普通的ls 命令是看不见的，只能使用lsattr 命令查看隐藏权限。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ls -la linuxprobe</span> 
-rw-r--r--. <span class="m">1</span> root root <span class="m">9</span> Mar <span class="m">29</span> 17:33 linuxprobe
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## lsattr linuxprobe</span> 
-----a---------- linuxprobe
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## chattr -a linuxprobe</span> 
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## lsattr linuxprobe</span> 
---------------- linuxprobe
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## rm linuxprobe</span> 
rm: remove regular file ‘linuxprobe’? y
</code></pre></td></tr></table>
</div>
</div><h2 id="文件访问控制列表">文件访问控制列表</h2>
<p>我们之前接触到的一般权限、特殊权限、隐藏权限有一个共性——权限是针对某一类用户设置的。如果希望对某个指定的用户进行单独的权限控制，就需要用到文件的访问控制列表（ACL）了。通俗来讲，基于普通文件或目录设置ACL 其实就是针对指定的用户或用户组设置文件或目录的操作权限。另外，<strong>如果针对某个目录设置了ACL，则目录中的文件会继承其ACL；若针对文件设置了ACL，则文件不再继承其所在目录的ACL。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Sun Mar <span class="m">29</span> 17:14:55 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">cd</span> /root
-bash: cd: /root: Permission denied
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">exit</span>
<span class="nb">logout</span>
</code></pre></td></tr></table>
</div>
</div><p>如上所示，普通用户是无法进入root管理员的家目录的。</p>
<h3 id="setfacl-命令用于管理文件的acl规则">setfacl 命令用于管理文件的ACL规则</h3>
<p>setfacl [参数] 文件名</p>
<p>文件的ACL提供的是在所有者、所属组、其他人的读/写/执行权限之外的特殊权限控制，使用setfacl 命令可以针对单一用户或用户组、单一文件或目录来进行读/写/执行权限的控制。其中，针对目录文件需要使用-R 递归参数；针对普通文件则使用-m 参数；如果要删除某个文件的ACL，则可以使用-b 参数。下面的例子设置用户linuxprobe 在/root 目录上的权限：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## setfacl -Rm u:linuxprobe:rwx /root</span>
<span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Sun Mar <span class="m">29</span> 17:42:15 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">cd</span> /root
<span class="o">[</span>linuxprobe@linuxprobe root<span class="o">]</span>$ ls
CheckHosts.sh  delusers.sh  Downloads     ipaddrs.txt  Pictures   users.txt
chkhost.sh     Desktop      example.sh    mkcdrom.sh   Public     Videos
clsscore.sh    Documents    gussprice.sh  Music        Templates
<span class="o">[</span>linuxprobe@linuxprobe root<span class="o">]</span>$ cat users.txt
zhangsan
lisi
wangwu
zhaoliu
wuqi
zhuba
<span class="o">[</span>linuxprobe@linuxprobe root<span class="o">]</span>$ <span class="nb">exit</span>
<span class="nb">logout</span>
</code></pre></td></tr></table>
</div>
</div><p>那么我们如何知道文件上有哪些ACL呢？常用的ls 命令虽然看不到ACL 表信息，但是却可以看到文件的权限最后一个点（.）变成了加号（+），这就意味着该文件已经设置了ACL了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## ls -dl /root/</span>
dr-xrwx---+ <span class="m">14</span> root root <span class="m">4096</span> Mar <span class="m">29</span> 17:36 /root/
</code></pre></td></tr></table>
</div>
</div><h3 id="getfacl-命令用于显示文件上设置的acl信息">getfacl 命令用于显示文件上设置的ACL信息</h3>
<p>getfacl 文件名称</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe ~<span class="o">]</span><span class="c1">## getfacl /root</span>
getfacl: Removing leading <span class="s1">&#39;/&#39;</span> from absolute path names
<span class="c1">## file: root</span>
<span class="c1">## owner: root</span>
<span class="c1">## group: root</span>
user::r-x
**user:linuxprobe:rwx**
group::r-x
mask::rwx
other::---
</code></pre></td></tr></table>
</div>
</div><h2 id="su-命令与sudo-服务">su 命令与sudo 服务</h2>
<p>在生产环境中，我们不可能像在学习时一直使用root 管理员账户，这样加大了操作失误导致系统崩溃的可能性。</p>
<p>su 命令可以解决切换用户身份的需求，使得当前用户在不退出登录的情况下，顺畅地切换到其他用户，比如从root 管理员切换至普通用户。使用<code>su - 用户名</code>来切换，其中的减号（-）意味着切换用户的同时，把环境变量页变更为新用户的相关信息，而不是包留原始的信息。</p>
<p>💡尽管像这样使用su 命令后，普通用户可以完全切换到root 管理员身份来完成相应工作，但这增大了暴露root 管理员密码的可能性。</p>
<p>取而代之的，我们可以使用sudo 命令把特定命令的执行权限赋予给指定用户，这样既可保证普通用户能完成特定工作，也可以避免泄露root 管理员密码。我们要做的就是合理配置sudo 服务，以边兼顾系统的安全性和用户的便捷性。sudo 服务的配置原则也很简单——<strong>在保证普通用户完成相应工作的前提下，尽可能少地赋予额外的权限。</strong></p>
<p>sudo 命令用于给普通用户提供额外的权限来完成原本root 管理员才能完成的任务，格式为“sudo [参数] 命令名称”。sudo 服务中可用的参数以及相应的作用如表所示。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-h</td>
<td>列出帮助信息</td>
</tr>
<tr>
<td>-l</td>
<td>列出当前用户可执行的命令</td>
</tr>
<tr>
<td>-u 用户名或UID值</td>
<td>以指定的用户身份执行命令</td>
</tr>
<tr>
<td>-k</td>
<td>清空密码的有效时间，下次执行 sudo 时需要再次进行密码验证</td>
</tr>
<tr>
<td>-b</td>
<td>在后台执行指定的命令</td>
</tr>
<tr>
<td>-p</td>
<td>更改询问密码的提示语</td>
</tr>
</tbody>
</table>
<p>总的来说，sudo 命令具有如下功能：</p>
<ul>
<li>限制用户执行指定的命令</li>
<li>记录用户执行的每一条命令</li>
<li>配置文件（/etc/sudoers）提供集中的用户管理、权限与主机等参数</li>
<li>验证密码后的5分钟内（默认值）无需再让用户验证密码</li>
</ul>
<p>如果担心直接修改配置文件会出现问题，则可以使用sufo 命令提供的visudo 命令来配置用户权限。这条命令在配置用户权限时将禁止多个用户同时修改sudoers 配置文件，还可以对配置文件内的参数进行语法检查，并在发现参数错误时进行报错。</p>
<p>💡只有root 管理员才可以使用visudo 命令编辑sudo 服务的配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## visudo</span>
<span class="m">96</span> <span class="c1">##</span>
<span class="m">97</span> <span class="c1">### Allow root to run any commands anywhere</span>
<span class="m">98</span> root <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
<span class="m">99</span> linuxprobe <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Sun Mar <span class="m">29</span> 17:56:33 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ sudo -l
<span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> linuxprobe: 
Matching Defaults entries <span class="k">for</span> linuxprobe on this host:
    requiretty, !visiblepw, always_set_home, env_reset, <span class="nv">env_keep</span><span class="o">=</span><span class="s2">&#34;COLORS
</span><span class="s2">    DISPLAY HOSTNAME HISTSIZE INPUTRC KDEDIR LS_COLORS&#34;</span>, <span class="nv">env_keep</span><span class="o">+=</span><span class="s2">&#34;MAIL PS1
</span><span class="s2">    PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE&#34;</span>, <span class="nv">env_keep</span><span class="o">+=</span><span class="s2">&#34;LC_COLLATE
</span><span class="s2">    LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES&#34;</span>, <span class="nv">env_keep</span><span class="o">+=</span><span class="s2">&#34;LC_MONETARY
</span><span class="s2">    LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE&#34;</span>, <span class="nv">env_keep</span><span class="o">+=</span><span class="s2">&#34;LC_TIME LC_ALL
</span><span class="s2">    LANGUAGE LINGUAS _XKB_CHARSET XAUTHORITY&#34;</span>,
    <span class="nv">secure_path</span><span class="o">=</span>/sbin<span class="se">\\</span>:/bin<span class="se">\\</span>:/usr/sbin<span class="se">\\</span>:/usr/bin

User linuxprobe may run the following commands on this host:
    <span class="o">(</span>ALL<span class="o">)</span> ALL
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ sudo ls /root
CheckHosts.sh  delusers.sh  Downloads	  ipaddrs.txt  Pictures   users.txt
chkhost.sh     Desktop	    example.sh	  mkcdrom.sh   Public	  Videos
clsscore.sh    Documents    gussprice.sh  Music        Templates
</code></pre></td></tr></table>
</div>
</div><p><strong>考虑到生成环境中不允许某个普通用户拥有整个系统中所有的命令的最高执行权，因此ALL参数就有些不合适了。因此只能赋予普通用户具体的命令以满足工作需求，这也受到了必要的权限约束。如果需要让某个用户只能使用root 管理员的身份执行指定的命令，切记一定要给出该命令的绝对路径，否则系统会识别不出。我们可以使用whereis 命令来找出命令所对应的二进制文件的保存路径。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">exit</span>
<span class="nb">logout</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## whereis cat</span>
cat: **/usr/bin/cat** /usr/share/man/man1/cat.1.gz /usr/share/man/man1p/cat.1p.gz
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## visudo</span>
<span class="m">96</span> <span class="c1">##</span>
<span class="m">97</span> <span class="c1">### Allow root to run any commands anywhere</span>
<span class="m">98</span> root <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
**99 linuxprobe <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> /usr/bin/cat**
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Mon Mar <span class="m">30</span> 19:48:49 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ cat /etc/shadow
cat: /etc/shadow: Permission denied
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ sudo cat /etc/shadow
<span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> linuxprobe: 
root:<span class="nv">$6$qPovRFFl$ZXpVbuZDRay7zsc5mjFneiyKRkoxfo7Z8uT05cEadU7EWIiw3I22xZOMdxn5M6KpEJFLKpI2AWXqYksy97cK2</span>.:18348:0:99999:7:::
bin:*:16141:0:99999:7:::
daemon:*:16141:0:99999:7:::
adm:*:16141:0:99999:7:::
lp:*:16141:0:99999:7:::
sync:*:16141:0:99999:7:::
shutdown:*:16141:0:99999:7:::
。。。省略。。。
</code></pre></td></tr></table>
</div>
</div><p>如果觉得每次进行sudo 操作都要输密码很麻烦，可以为linuxprobe 用户添加NOPASSWD 参数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ <span class="nb">exit</span>
<span class="nb">logout</span>
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## visudo</span>
<span class="m">96</span> <span class="c1">##</span>
<span class="m">97</span> <span class="c1">### Allow root to run any commands anywhere</span>
<span class="m">98</span> root <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL
<span class="m">99</span> linuxprobe <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /usr/sbin/poweroff
<span class="o">[</span>root@linuxprobe Desktop<span class="o">]</span><span class="c1">## su - linuxprobe</span> 
Last login: Mon Mar <span class="m">30</span> 19:55:06 CST <span class="m">2020</span> on pts/0
<span class="o">[</span>linuxprobe@linuxprobe ~<span class="o">]</span>$ sudo cat /etc/shadow
root:<span class="nv">$6$qPovRFFl$ZXpVbuZDRay7zsc5mjFneiyKRkoxfo7Z8uT05cEadU7EWIiw3I22xZOMdxn5M6KpEJFLKpI2AWXqYksy97cK2</span>.:18348:0:99999:7:::
bin:*:16141:0:99999:7:::
daemon:*:16141:0:99999:7:::
adm:*:16141:0:99999:7:::
lp:*:16141:0:99999:7:::
。。。省略。。。
</code></pre></td></tr></table>
</div>
</div><p>这时就不用输入密码了😊。</p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Dereen</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2019-09-09
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://happy.dereen.top/tags/linux/">Linux</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/linuxnotes05/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">LinuxNotes.存储结构与磁盘划分</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/linuxnotes03/">
            <span class="next-text nav-default">LinuxNotes.管道符、重定向与环境变量</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  
  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "DereenMec/hugovercelcom"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:dereenmec@outlook.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/dereen_" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://www.facebook.com/xbzzhc" rel="me noopener" class="iconfont"
      title="facebook"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M965.7344 2.7648c14.848 0 28.2624 5.5296 40.2432 16.6912C1017.9584 30.5152 1024 43.52 1024 58.2656l0 910.2336c0 14.848-6.0416 27.7504-18.0224 38.8096C993.8944 1018.4704 980.48 1024 965.7344 1024L704.9216 1024 704.9216 629.9648l133.2224 0 19.456-155.4432-152.576 0L705.024 373.0432c0-50.688 25.9072-76.0832 77.7216-76.0832l80.4864 0L863.232 163.5328c-27.7504-5.4272-67.4816-8.192-119.296-8.192-59.1872 0-106.8032 18.0224-142.9504 54.0672C564.736 245.5552 546.7136 296.0384 546.7136 360.7552l0 113.7664L413.4912 474.5216l0 155.4432 133.2224 0L546.7136 1024 55.5008 1024c-14.848 0-27.7504-5.5296-38.8096-16.6912C5.5296 996.2496 0 983.3472 0 968.4992L0 58.2656C0 43.52 5.5296 30.5152 16.6912 19.456c11.0592-11.0592 24.064-16.6912 38.8096-16.6912L965.7344 2.7648z"></path>
</svg>

    </a>
  
    <a href="https://github.com/dereenmec" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/xbzzhc" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>
  
    <a href="https://space.bilibili.com/6509651" rel="me noopener" class="iconfont"
      title="bilibili"  target="_blank"
      >
      <svg
  class="icon" style="" viewBox="0 0 1024 1024" version="1.1" width="36"
  height="36" id="svg8">
  <path
      style=""
      d="M 744.60599,0.00486267 A 41.779915,41.779915 0 0 0 710.4184,18.673394 L 548.5048,255.32642 h -11.70046 a 41.779915,41.779915 0 0 0 -10.80295,-7.84928 L 235.66,97.084498 a 41.779915,41.779915 0 0 0 -20.07193,-4.960864 41.779915,41.779915 0 0 0 -18.3748,79.145436 L 359.4859,255.32642 H 128.16909 c -49.458302,0 -89.27932,39.82105 -89.27932,89.27932 v 508.65224 c 0,49.4583 39.821018,89.27934 89.27932,89.27934 h 19.48445 C 149.12802,984.5043 179.92773,1024 224.79179,1024 c 44.86407,0 75.66379,-39.4957 77.13826,-81.46268 H 719.98116 C 721.45559,984.5043 752.25533,1024 797.1194,1024 c 44.86406,0 75.6638,-39.4957 77.13824,-81.46268 h 21.57323 c 49.45831,0 89.27936,-39.82104 89.27936,-89.27934 V 344.60574 c 0,-49.45827 -39.82105,-89.27932 -89.27936,-89.27932 H 649.74567 L 779.38103,65.866924 A 41.779915,41.779915 0 0 0 744.60599,0.00486267 Z M 644.49108,418.70871 c 6.29985,0.21538 12.44451,2.01107 17.86888,5.22196 l 171.36218,98.10771 c 18.23417,10.21935 24.63334,33.34627 14.24614,51.48533 -10.38726,18.13909 -33.57344,24.32718 -51.61587,13.77296 L 624.9903,489.18895 c -15.21356,-8.41858 -22.66871,-26.1765 -18.03211,-42.93436 4.63664,-16.75784 20.15573,-28.14465 37.53289,-27.54588 z M 350.2006,432.31846 c 16.89952,0.0317 31.69582,11.33328 36.17844,27.62747 4.48262,16.2942 -2.44981,33.57765 -16.95507,42.24898 l -140.7157,86.91312 c -17.68528,11.18244 -41.09629,5.77692 -52.08912,-12.02686 -10.99282,-17.80373 -5.33855,-41.15658 12.58167,-51.95857 L 329.9002,438.2095 c 6.0643,-3.86439 13.10951,-5.90891 20.3004,-5.89104 z M 501.605,641.53985 c 3.75002,-0.15248 7.48645,0.53903 10.93349,2.0235 0.15842,0.0637 0.31618,0.12888 0.47325,0.19582 0.59328,0.27092 1.17574,0.56489 1.74609,0.88121 0.15868,0.0854 0.31643,0.17233 0.47325,0.2611 0.55694,0.32165 1.10131,0.66458 1.63185,1.02807 0.16455,0.1123 0.32777,0.2265 0.48956,0.34269 0.50382,0.36781 0.99371,0.75428 1.46868,1.15864 0.18724,0.15504 0.37218,0.31282 0.55484,0.47323 0.43271,0.38784 0.8518,0.79061 1.25653,1.20756 0.15449,0.16114 0.30679,0.32437 0.45693,0.48959 0.40798,0.44266 0.79989,0.89988 1.17494,1.37076 0.17799,0.22544 0.35205,0.45395 0.5222,0.68538 0.25932,0.34701 0.50964,0.70071 0.75064,1.06071 0.26712,0.39516 0.52286,0.79784 0.76699,1.20757 0.16907,0.29043 0.33231,0.58424 0.48957,0.88123 0.21836,0.41297 0.42513,0.83199 0.62009,1.25653 0.14836,0.32333 0.28983,0.64976 0.42429,0.97911 0.21319,0.51552 0.40915,1.03801 0.58747,1.5666 0.0677,0.19499 0.13296,0.39085 0.19582,0.58748 0.18652,0.60823 0.34984,1.22334 0.48957,1.84399 0.0397,0.16277 0.0779,0.32601 0.11423,0.48957 0.1436,0.69112 0.25788,1.38801 0.34269,2.08877 0.005,0.0381 0.0111,0.0761 0.0163,0.11424 0.0857,0.78056 0.13474,1.56471 0.14687,2.34988 0.005,0.0543 0.0111,0.10879 0.0163,0.1632 0,0 -0.008,1.12132 0,1.45234 0,0 -0.14697,17.84761 5.89102,34.12231 3.01902,8.13734 7.33278,15.10615 12.61433,19.61501 5.28157,4.50889 11.42894,7.62081 23.64572,7.62081 12.2168,0 18.36416,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.5953,-11.47767 12.6143,-19.61501 6.03799,-16.2747 5.89103,-34.12231 5.89103,-34.12231 -0.44885,-13.87045 10.45922,-25.46302 24.3311,-25.86506 13.87189,-0.40201 25.42828,10.53953 25.78348,24.41272 0,0 1.11929,25.7226 -9.00791,53.01927 -5.06359,13.64832 -13.1986,28.46036 -27.05631,40.29073 -13.85772,11.83039 -33.5454,19.63135 -56.20142,19.63135 -22.65603,0 -42.34371,-7.80096 -56.20141,-19.63135 -4.1801,-3.56856 -7.78733,-7.42433 -10.99878,-11.42303 -3.21235,4.00037 -6.81703,7.85309 -10.99876,11.42303 -13.85773,11.83039 -33.5454,19.63135 -56.20144,19.63135 -22.65601,0 -42.3437,-7.80096 -56.2014,-19.63135 -13.85775,-11.83037 -21.99272,-26.64241 -27.05632,-40.29073 -10.12725,-27.29667 -9.00789,-53.01928 -9.00789,-53.01927 0.20714,-13.83687 11.58744,-24.88848 25.42444,-24.69013 14.1263,0.19991 25.2971,12.0278 24.69011,26.14247 0,0 -0.14697,17.84761 5.89103,34.12231 3.01902,8.13734 7.31646,15.10615 12.598,19.61501 5.28155,4.50889 11.44526,7.62081 23.66203,7.62081 12.21681,0 18.36418,-3.11192 23.64573,-7.62081 5.28154,-4.50886 9.57899,-11.47767 12.598,-19.61501 5.76352,-15.53489 5.89112,-32.05691 5.89103,-33.56746 0.006,-0.37466 0.0111,-1.05336 0.0163,-1.20759 -0.0117,-0.74583 0.0105,-1.49177 0.0652,-2.23565 0.009,-0.15784 0.0204,-0.31561 0.0327,-0.47324 0.14204,-1.56859 0.43163,-3.12027 0.86487,-4.63449 0.0213,-0.0763 0.0433,-0.15244 0.0652,-0.22848 3.0335,-10.25748 12.24157,-17.46007 22.92769,-17.93417 z"
      id="rect824"/>
</svg>

    </a>


<a href="https://happy.dereen.top/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2020
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Dereen
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>








<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>



  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  















</body>
</html>
